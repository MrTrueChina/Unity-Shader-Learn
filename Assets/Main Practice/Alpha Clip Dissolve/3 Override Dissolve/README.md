# 关于使用追加材质实现透明度裁剪的实验

## 结论

追加材质无法对已有材质进行透明度裁剪，因此如果原始材质没有透明度裁剪则无法通过追加材质进行透明度裁剪。

假设使用几何纹理的缓冲图或者某些自定义的抓取通道来实现看似透明的效果，性质上也只是对上一个材质进行了一次 OverDraw，并不是真的实现了覆盖性的透明度裁剪。

## 现象分析

假设有一个模型 M1，他有三个材质 m1，m1 材质是一个普通的 Lit 不具备透明度裁剪设置

给 M1 覆盖一个材质 m2，m2 是一个具备透明度裁剪的材质

最终效果上是在 m1 的基础上叠加了一个 m2

推测是由于两个材质都被渲染了一次，而渲染是向缓冲区写入数据，没有删除更没有撤销，因此即便 m2 的透明度裁剪生效也只能影响自己，因为 m1 已经写入缓冲区，写入的内容跟 m1 已经没有关系了（逻辑上说确实可能通过自定义的缓冲区来实现记录每个片元和绘制它的模型的关系，但是按照现在的需求来看这在成本上得不偿失）